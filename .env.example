# UniFi controllers (comma-separated or JSON array)
UNIFI_URLS=https://controller.example.com/proxy/network/integration/v1

# UniFi authentication (choose one method)
UNIFI_API_KEY=your-unifi-api-key
UNIFI_API_KEY_HEADER=X-API-KEY
# UNIFI_USERNAME=your-unifi-username
# UNIFI_PASSWORD=your-unifi-password
# UNIFI_MFA_SECRET=your-unifi-mfa-secret

# NetBox connection
NETBOX_URL=https://netbox.example.com
NETBOX_TOKEN=your-netbox-api-token
NETBOX_TENANT=Organization Name

# New devices in NetBox should be created with this status (default: offline)
NETBOX_DEVICE_STATUS=offline

# Serial handling in NetBox:
# - mac (default): uses MAC as serial (normalized to uppercase without ':')
# - unifi: only use UniFi serial (if provided)
# - id: fallback to device id
# - none: do not set serial in NetBox
NETBOX_SERIAL_MODE=mac

# VRF handling in NetBox:
# - existing (default): use VRF if it already exists, never create
# - none: do not use VRFs at all
# - create: create VRF if missing (not recommended unless you want VRFs auto-created)
NETBOX_VRF_MODE=existing

# DHCP auto-discovery: automatically detect DHCP ranges from UniFi network configs.
# Discovered ranges are merged with any manually configured DHCP_RANGES below.
# Set to false to only use manually configured ranges.
DHCP_AUTO_DISCOVER=true

# DHCP ranges: devices with IPs in these ranges get reassigned a static IP.
# Static IPs are picked from the same prefix but outside the DHCP pool.
# The candidate IP is pinged before assignment to verify it is free.
# Comma-separated CIDR notation. Leave empty to rely solely on auto-discovery.
# DHCP_RANGES=192.168.100.0/24

# NetBox roles (option A: explicit role keys)
NETBOX_ROLE_WIRELESS=Wireless AP
NETBOX_ROLE_LAN=Switch
NETBOX_ROLE_GATEWAY=Gateway Firewall
NETBOX_ROLE_ROUTER=Router
NETBOX_ROLE_UNKNOWN=Network Device

# NetBox roles (option B: JSON map; if set, overrides NETBOX_ROLE_* vars)
# NETBOX_ROLES={"WIRELESS":"Wireless AP","LAN":"Switch","GATEWAY":"Gateway Firewall","ROUTER":"Router","UNKNOWN":"Network Device"}

# Optional site mapping
UNIFI_USE_SITE_MAPPING=false
# UNIFI_SITE_MAPPINGS={"UniFi Site Name":"NetBox Site Name","Corporate Office":"HQ"}

# Feature toggles (all default to true)
SYNC_INTERFACES=true
SYNC_VLANS=true
SYNC_WLANS=true
SYNC_CABLES=true
SYNC_STALE_CLEANUP=true

# Threading (defaults shown; reduce for smaller environments)
# MAX_CONTROLLER_THREADS=5
# MAX_SITE_THREADS=8
# MAX_DEVICE_THREADS=8

# NetBox cleanup (delete stale devices, orphan interfaces/IPs, unused device types)
NETBOX_CLEANUP=false
CLEANUP_STALE_DAYS=30

# Sync interval in seconds (0 = run once and exit, 600 = every 10 min)
SYNC_INTERVAL=600

# Optional HTTP behavior tuning
UNIFI_REQUEST_TIMEOUT=15
UNIFI_HTTP_RETRIES=3
UNIFI_RETRY_BACKOFF_BASE=1.0
UNIFI_RETRY_BACKOFF_MAX=30.0
